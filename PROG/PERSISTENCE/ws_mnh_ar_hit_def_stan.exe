#! /bin/bash
export JOB=ws_mnh_ar_hit_def_stan
export IDELTA=10
export GG=5GG
export HH=1H
export STARTMINUTE=300  # from 19:00 LT
#export STARTMINUTE=0  # from 14:00 LT
export ENDMINUTE=960    # to 06:00 LT
#export ENDMINUTE=1080    # to 08:00 LT
export NbNights=360
export ROOT="/Users/masciadri/STEREO_SCIDAR/MNH/PERSIST_TREATED_365_20180801_20190731/${GG}/${HH}/WS_TREATED/"
export STARTIN="WS_PERSIST_"
export TAIL=".dat"
export LIMIT=0.     # limite inferiore da usarsi quando si vuole studiare lo scattering plot di WS sopra una certa soglia. Se si vuole considerare tutto il sample mettere LIMIT=0.
export MAXWS=999.   # put 999. if one wants to consider the whole values without filtering
# ATT: only the option 999. It is valid if one wish to calculate the contingency tables
rm -f ${JOB}
test -f out_scatter_for_python_bef.dat && rm -f out_scatter_for_python_bef.dat
test -f out_scatter_for_python_aft.dat && rm -f out_scatter_for_python_aft.dat
exe90mac_mod_check_new ${JOB}
./${JOB}<<EOF
${GG}
${HH}
${IDELTA}
${NbNights}
${STARTMINUTE}
${ENDMINUTE}
${LIMIT}
"${ROOT}"
"${TAIL}"
"${STARTIN}"
'list_WS_${GG}.txt'
'ws_sim_mnh_ar_dimm_${STARTMINUTE}_${ENDMINUTE}_BEF_stan_per.ps/cps'
'ws_sim_mnh_ar_dimm_${STARTMINUTE}_${ENDMINUTE}_AFT_stan_per.ps/cps'
EOF
python3 scatter_contour_ws.py out_scatter_for_python_bef.dat "OBS-WS (m/s)" "MNH-stan (m/s)" "" 0. 20. 5.
python3 scatter_contour_ws.py out_scatter_for_python_aft.dat "OBS-WS (m/s)" "PERSISTENCE-WS (m/s)" "" 0. 20. 5.
mv out_scatter_for_python_bef.png ws_out_scatter_for_python_bef.png
mv out_scatter_for_python_aft.png ws_out_scatter_for_python_aft.png
